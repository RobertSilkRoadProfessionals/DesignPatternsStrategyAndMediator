<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Behavioral Design Patterns - Strategy & Mediator</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            overflow: hidden;
        }
        
        .slide {
            display: none;
            padding: 40px;
            min-height: calc(100vh - 80px);
            box-sizing: border-box;
        }
        
        .slide.active {
            display: block;
        }
        
        .slide h1 {
            font-size: 3em;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .slide h2 {
            font-size: 2.2em;
            margin-bottom: 20px;
            color: #ffd700;
        }
        
        .slide h3 {
            font-size: 1.8em;
            margin-bottom: 15px;
            color: #87ceeb;
        }
        
        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 30px;
        }
        
        pre {
            background: rgba(0,0,0,0.6);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #ffd700;
            font-size: 0.9em;
            overflow-x: auto;
        }
        
        .problem {
            background: rgba(255,0,0,0.2);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #ff4444;
            margin: 20px 0;
        }
        
        .solution {
            background: rgba(0,255,0,0.2);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #44ff44;
            margin: 20px 0;
        }
        
        .benefits {
            background: rgba(255,255,0,0.2);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #ffff44;
            margin: 20px 0;
        }
        
        ul {
            font-size: 1.2em;
            line-height: 1.6;
        }
        
        .navigation {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            padding: 10px 20px;
            border-radius: 25px;
        }
        
        .nav-btn {
            background: #ffd700;
            color: #333;
            border: none;
            padding: 10px 20px;
            margin: 0 5px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .nav-btn:hover {
            background: #ffed4e;
        }
        
        .nav-btn:disabled {
            background: #666;
            color: #999;
            cursor: not-allowed;
        }
        
        .slide-counter {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.7);
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 1.1em;
        }
        
        .center {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
        }
        
        .big-emoji {
            font-size: 6em;
            margin: 20px 0;
        }
        
        .discussion-point {
            background: rgba(255,165,0,0.3);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffa500;
            margin: 15px 0;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="slide-counter">
        <span id="current-slide">1</span> / <span id="total-slides">20</span>
    </div>
    
    <!-- Slide 1: Title -->
    <div class="slide active center">
        <h1>Behavioral Design Patterns</h1>
        <h2>Strategy & Mediator Patterns</h2>
        <div class="big-emoji">üéØ üé¨</div>
        <p style="font-size: 1.5em; margin-top: 30px;">Building Better Software Through Smart Object Interactions</p>
    </div>
    
    <!-- Slide 2: What Are Behavioral Patterns -->
    <div class="slide">
        <h1>What Are Behavioral Patterns?</h1>
        <p style="font-size: 1.3em; margin-bottom: 30px;">Behavioral patterns focus on <strong>communication between objects</strong> and the <strong>assignment of responsibilities</strong>.</p>
        
        <div class="two-columns">
            <div>
                <h3>üéØ Key Characteristics:</h3>
                <ul>
                    <li><strong>How objects interact</strong> and communicate</li>
                    <li><strong>Distribution of responsibilities</strong> between objects</li>
                    <li><strong>Algorithms and flow control</strong> management</li>
                    <li><strong>Runtime behavior</strong> modification</li>
                </ul>
            </div>
            <div>
                <h3>üö´ Common Problems They Solve:</h3>
                <ul>
                    <li>Complex conditional logic (if/else chains)</li>
                    <li>Tight coupling between objects</li>
                    <li>Difficulty adding new behaviors</li>
                    <li>Hard-to-test algorithms</li>
                </ul>
            </div>
        </div>
        
        <div class="discussion-point">
            üí¨ <strong>Discussion:</strong> What kind of complex interactions do you deal with in your current projects?
        </div>
    </div>
    
    <!-- Slide 3: Today's Focus -->
    <div class="slide">
        <h1>Today's Focus: Two Essential Patterns</h1>
        
        <div class="two-columns">
            <div class="benefits">
                <h2>üéØ Strategy Pattern</h2>
                <p><strong>"Choose your algorithm at runtime"</strong></p>
                <ul>
                    <li>Multiple ways to do the same thing</li>
                    <li>Switch between algorithms dynamically</li>
                    <li>Clean separation of concerns</li>
                </ul>
            </div>
            <div class="benefits">
                <h2>üé¨ Mediator Pattern</h2>
                <p><strong>"Central coordinator for complex interactions"</strong></p>
                <ul>
                    <li>Manages communication between multiple objects</li>
                    <li>Reduces coupling between components</li>
                    <li>Orchestrates complex workflows</li>
                </ul>
            </div>
        </div>
        
        <div style="margin-top: 40px; font-size: 1.2em;">
            <h3>üåç Real-world analogy:</h3>
            <ul>
                <li><strong>Strategy:</strong> Different payment methods (credit card, PayPal, bank transfer)</li>
                <li><strong>Mediator:</strong> Air traffic control tower coordinating multiple planes</li>
            </ul>
        </div>
    </div>
    
    <!-- Slide 4: The Problem -->
    <div class="slide">
        <h1>The Problem: "Big Ball of Mud" Code</h1>
        <p>Let's look at a typical legacy order processing system:</p>
        
        <pre><code>public class LegacyOrderProcessor
{
    // 700+ line method that does EVERYTHING!
    
    public void ProcessOrderAndGenerateReport(Order order)
    {
        // Validation mixed with business logic
        if (string.IsNullOrEmpty(order.OrderId))
            order.OrderId = "ORD-" + DateTime.Now.Ticks; // Side effect!
        
        // Calculate totals (hundreds of lines...)
        foreach (var product in order.IndividualProducts) { /*...*/ }
        foreach (var ensemble in order.ProductEnsembles) { /*...*/ }
        
        // CSV generation hardcoded inside business logic
        csvContent.AppendLine("OrderID,CustomerID,ProductName...");
        foreach (var product in order.IndividualProducts)
        {
            csvContent.AppendLine($"{order.OrderId},{product.Name}...");
        }
        
        // File I/O mixed with everything else
        File.WriteAllText(fullPath, csvContent.ToString());
    }
}</code></pre>
        
        <div class="discussion-point">
            üí¨ <strong>Discussion:</strong> What problems do you see here? How would you add a new report format?
        </div>
    </div>
    
    <!-- Slide 5: Problems with Legacy -->
    <div class="slide">
        <h1>Problems with Legacy Approach</h1>
        
        <div class="two-columns">
            <div class="problem">
                <h3>üö´ What's Wrong?</h3>
                <ul>
                    <li><strong>Mixed Responsibilities:</strong> Business logic + formatting + I/O</li>
                    <li><strong>Hard-coded Dependencies:</strong> Only one CSV format</li>
                    <li><strong>Side Effects:</strong> Modifies original order object</li>
                    <li><strong>Difficult Testing:</strong> Can't test pieces independently</li>
                    <li><strong>Violates SOLID:</strong> Especially SRP and OCP</li>
                </ul>
            </div>
            <div class="solution">
                <h3>üí° What We Need:</h3>
                <ul>
                    <li><strong>Separation of Concerns:</strong> Each class has one job</li>
                    <li><strong>Flexible Output:</strong> Support multiple report formats</li>
                    <li><strong>No Side Effects:</strong> Don't modify input data</li>
                    <li><strong>Easy Testing:</strong> Test each component separately</li>
                    <li><strong>Open for Extension:</strong> Add new features without changing existing code</li>
                </ul>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 40px; font-size: 1.4em; color: #ffd700;">
            <strong>The Question: "How do we add a new CSV format without changing existing code?"</strong>
            <br><br>
            This is where the <strong>Strategy Pattern</strong> comes to the rescue! üéØ
        </div>
    </div>
    
    <!-- Slide 6: Strategy Pattern Intro -->
    <div class="slide center">
        <div class="big-emoji">üéØ</div>
        <h1>Strategy Pattern</h1>
        <h2>"Define a family of algorithms, encapsulate each one, and make them interchangeable"</h2>
    </div>
    
    <!-- Slide 7: Strategy Pattern Core Concept -->
    <div class="slide">
        <h1>Strategy Pattern: Core Concept</h1>
        <p style="font-size: 1.3em;">The Strategy pattern lets you <strong>change algorithms at runtime</strong> without modifying the client code.</p>
        
        <h3>Key Components:</h3>
        <pre><code>// 1. Strategy Interface - defines the contract
public interface ICsvReportingStrategy
{
    string GenerateCsvContent(Order order, OrderCalculationResults results);
    string GetFileName(Order order);
}

// 2. Concrete Strategies - different implementations
public class StandardRetailAuditStrategy : ICsvReportingStrategy { }
public class EnhancedRetailAuditStrategy : ICsvReportingStrategy { }
public class FinancialSummaryStrategy : ICsvReportingStrategy { }

// 3. Context - uses the strategy
public class ImprovedOrderProcessor
{
    private readonly ICsvReportingStrategy _strategy;
    // Uses _strategy to generate reports
}</code></pre>
    </div>
    
    <!-- Slide 8: Strategy Pattern Example -->
    <div class="slide">
        <h1>Strategy Pattern Example: CSV Strategies</h1>
        
        <div class="two-columns">
            <div>
                <h3>Standard Format</h3>
                <pre><code>public class StandardRetailAuditStrategy 
  : ICsvReportingStrategy
{
    public string GenerateCsvContent(Order order, 
        OrderCalculationResults results)
    {
        var csv = new StringBuilder();
        csv.AppendLine("OrderID,ProductName,Price");
        
        foreach (var product in results.Products)
        {
            csv.AppendLine($"{order.Id}," +
                          $"{product.Name}," +
                          $"{product.Price:F2}");
        }
        return csv.ToString();
    }
}</code></pre>
            </div>
            <div>
                <h3>Enhanced Format</h3>
                <pre><code>public class EnhancedRetailAuditStrategy 
  : ICsvReportingStrategy
{
    public string GenerateCsvContent(Order order, 
        OrderCalculationResults results)
    {
        var csv = new StringBuilder();
        csv.AppendLine("OrderID,ProductName,Price," +
                      "VAT,Compliance,Tracking");
        
        foreach (var product in results.Products)
        {
            csv.AppendLine($"{order.Id}," +
                          $"{product.Name}," +
                          $"{product.Price:F2}," +
                          $"{product.VAT:F2}," +
                          $"{GetCompliance(product)}," +
                          $"{order.TrackingNumber}");
        }
        return csv.ToString();
    }
}</code></pre>
            </div>
        </div>
    </div>
    
    <!-- Slide 9: Using Strategy Pattern -->
    <div class="slide">
        <h1>Using the Strategy Pattern</h1>
        
        <pre><code>// Clean processor that uses strategies
public class ImprovedOrderProcessor
{
    private readonly ICsvReportingStrategy _strategy;
    
    public ImprovedOrderProcessor(ICsvReportingStrategy strategy)
    {
        _strategy = strategy;
    }
    
    public OrderProcessingResult ProcessOrder(Order order)
    {
        // 1. Calculate business logic (separated concern)
        var results = _calculator.CalculateOrder(order);
        
        // 2. Generate report using strategy (flexible)
        string csvContent = _strategy.GenerateCsvContent(order, results);
        string fileName = _strategy.GetFileName(order);
        
        // 3. Save file (separated I/O concern)
        _fileWriter.WriteFile(fileName, csvContent);
        
        return new OrderProcessingResult 
        { 
            Success = true, CsvFilePath = fileName 
        };
    }
}</code></pre>
        
        <div class="discussion-point">
            üí¨ <strong>Discussion:</strong> Where in your current projects could you apply Strategy pattern? Think about places where you have if/else chains or switch statements.
        </div>
    </div>
    
    <!-- Slide 10: When to Use Strategy -->
    <div class="slide">
        <h1>When to Use Strategy Pattern</h1>
        
        <div class="two-columns">
            <div class="solution">
                <h3>‚úÖ Perfect For:</h3>
                <ul>
                    <li>Multiple ways to perform the same task</li>
                    <li>Runtime algorithm selection</li>
                    <li>Eliminating complex if/else chains</li>
                    <li>Supporting different data formats (CSV, JSON, XML)</li>
                    <li>Payment processing (credit card, PayPal, bank transfer)</li>
                    <li>Sorting algorithms (quick sort, merge sort, bubble sort)</li>
                </ul>
                
                <h3>ü§î Consider When:</h3>
                <ul>
                    <li>You have 3+ similar algorithms</li>
                    <li>Client code needs to choose behavior</li>
                    <li>You want to add new algorithms without changing existing code</li>
                </ul>
            </div>
            <div class="problem">
                <h3>‚ùå Avoid When:</h3>
                <ul>
                    <li>Only one or two simple algorithms</li>
                    <li>Algorithms never change</li>
                    <li>The overhead isn't worth the flexibility</li>
                </ul>
                
                <div style="margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                    <strong>Key Question:</strong><br>
                    "Do I need to switch between different ways of doing the same thing?"
                    
                    <br><br>
                    
                    If you find yourself writing:<br>
                    <code>if (format == "standard") { ... }<br>
                    else if (format == "enhanced") { ... }</code><br>
                    
                    That's a perfect candidate for Strategy pattern!
                </div>
            </div>
        </div>
    </div>
    
    <!-- Slide 11: Mediator Pattern Intro -->
    <div class="slide center">
        <div class="big-emoji">üé¨</div>
        <h1>Mediator Pattern</h1>
        <h2>"Define how a set of objects interact with each other"</h2>
    </div>
    
    <!-- Slide 12: Complex Interactions Problem -->
    <div class="slide">
        <h1>The Problem: Complex Object Interactions</h1>
        <p>Imagine our order processing needs additional features:</p>
        
        <div class="two-columns">
            <div class="problem">
                <h3>Without Mediator:</h3>
                <ul>
                    <li>Order processor calls validator</li>
                    <li>Order processor calls notification service</li>
                    <li>Order processor calls audit logger</li>
                    <li>Order processor calls payment service</li>
                    <li>Validator might call notification service</li>
                    <li><strong>Tight coupling everywhere!</strong> üòµ</li>
                </ul>
                
                <pre><code>// Processor knows about everything!
public class OrderProcessor
{
    private IValidator _validator;
    private INotifier _notifier;
    private IAuditor _auditor;
    private IPayment _payment;
    
    // Complex orchestration logic...
}</code></pre>
            </div>
            <div class="solution">
                <h3>With Mediator:</h3>
                <ul>
                    <li>All components talk through mediator</li>
                    <li>Mediator orchestrates the workflow</li>
                    <li>Components don't know about each other</li>
                    <li><strong>Loose coupling!</strong> üòé</li>
                </ul>
                
                <pre><code>// Processor only knows about mediator
public class OrderProcessor
{
    private IOrderMediator _mediator;
    
    public async Task ProcessAsync(ProcessOrderRequest request)
    {
        return await _mediator.HandleAsync(request);
    }
}</code></pre>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 30px; font-size: 1.2em; color: #87ceeb;">
            Think of the mediator like an <strong>air traffic control tower</strong>:<br>
            Planes don't talk directly to each other - the tower coordinates all communication
        </div>
    </div>
    
    <!-- Continue with more slides... -->
    
    <div class="navigation">
        <button class="nav-btn" onclick="previousSlide()">Previous</button>
        <button class="nav-btn" onclick="nextSlide()">Next</button>
    </div>
    
    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        
        document.getElementById('total-slides').textContent = totalSlides;
        
        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');
            document.getElementById('current-slide').textContent = currentSlide + 1;
        }
        
        function nextSlide() {
            showSlide(currentSlide + 1);
        }
        
        function previousSlide() {
            showSlide(currentSlide - 1);
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                previousSlide();
            }
        });
        
        // Initialize
        showSlide(0);
    </script>
</body>
</html>